% !TEX root = Entwurf_goApp.tex

\section{Server}
	\subsection{edu.kit.sdqweb.pse.gruppe1.goApp.server.servlet}
	
	\subsection{edu.kit.sdqweb.pse.gruppe1.goApp.server.database.model}

	\subsubsection{public class User}
	An user describes an user of the goApp.
	\newline Attributes:
	\begin{itemize}
	\item private int Id : The Id is used to identify each user and is therefore unique and can not be changed.
	\item private String name : The name of an user is selectable by the user and can also be changed.
	\end{itemize}
	Methods: 
	\begin{itemize}
	\item public User(int id, String name)
		\begin{description}
		\item @param id The Id of the user. 
	 	\item @param name The name of the user.
		\end{description}
	\item public void setName(String name)
		\begin{description}
		\item Sets the name of the user
	 	\item @param name The new name of the user.
		\end{description}
	\item public String getName()
		\begin{description}
		\item Returns the name of the user.
	 	\item @return The name of the user.
		\end{description}
	\item public int getId()
		\begin{description}
		\item  Returns the Id of the user.
	 	\item @return The Id of the user.
		\end{description}
	\end{itemize}

	\subsubsection{public class Request}
	A request is created whenever a user wants to join a new group and deleted as soon as the founder adds or rejects the user.
	\newline
	Methods: 
	\begin{itemize}
	\item public Request(User user, Group group)
		\begin{description}
		\item @param user The user who creates the request.
		\item @param group The group which the user wants to join.
		\end{description}
	\end{itemize}
	
	\subsubsection{public class Group}
	A group is a composition of several users of the goApp, in which the users can create events.
	\newline Attributes:
	\begin{itemize}
	\item private int Id : The Id is used to identify each group and is therefore unique and can not be changed.
	\item private String name : The name of a group is given by the founder and can be changed.
	\end{itemize}
	Methods:
	\begin{itemize}
	\item public Group(int id, String name)
		\begin{description}
		\item @param id The Id of the group.
		\item @param name The name of the group.
		\end{description}
	\item public void setName(String name)
		\begin{description}
		\item Sets the name of the group.
	 	\item @param name The new name of the group.
		\end{description}
	\item public String getName()
		\begin{description}
		\item Returns the name of the group.
	 	\item @return The name of the group.
		\end{description}
	\item public int getId()
		\begin{description}
		\item Returns the Id of the Group.
	 	\item @return The Id of the Group.
		\end{description}
	\end{itemize}

	\subsubsection{public class Event}
	An event is created by a user within a specific group.
	\newline Attributes:
	\begin{itemize}
	\item private  int Id : The Id is used to identify each event and is therefore unique and can not be changed.
	\item private String name : The name of an event is given by the creator.
	\item private Time time : The time of an event tells when the event is starting and is set by the creator of the event.
	\end{itemize}
	Methods:
	\begin{itemize}
	\item public Event(int id, String name, Time time)
		\begin{description}
		\item @param id The Id of the event.
		\item @param name The name of the event.
		\item @param time The time of the event.
		\end{description}
	\item public synchronized void setTime(Time time)
		\begin{description}
		\item Sets the time of the event.
	 	\item @param time The new time of the event.
		\end{description}
	\item public void setName(String name)
		\begin{description}
		\item Sets the name of the event.
	 	\item @param name The new name of the event.
		\end{description}
	\item public Time getTime()
		\begin{description}
		\item Returns the time of the event.
	 	\item @return The time of the event.
		\end{description}
	\item public String getName()
		\begin{description}
		\item Returns the name of the event.
	 	\item @return The name of the event.
		\end{description}
	\item public int getId()
		\begin{description}
		\item Returns the Id of the event
	 	\item @return The Id of the event.
		\end{description}
	\end{itemize}

	\subsubsection{public class Location}
	An event is created by a user within a specific group.
	\newline Attributes:
	\begin{itemize}
	\item private  double longitude : The longitude value of the position in degrees, range[-180,180). 
	\item private  double latitude : The latitude value of the position in degrees, range [-90,90].
	\item private String name : The name of a location helps the user to identify if the location is a center point of the group or the original meeting point.
	\end{itemize}
	Methods:
	\begin{itemize}
	\item public Location(int longitude, int latitude, String name)
		\begin{description}
		\item @param longitude The longitude value of the position.
		\item @param latitude The latitude value of the position.
		\item @param name The name of the location.
		\end{description}
	\item public void setName(String name)
		\begin{description}
		\item Sets the name of a location.
	 	\item @param name The new name of the location.
		\end{description}
	\item public void setLatitude(double latitude)
		\begin{description}
		\item Sets the latitude of the location.
	 	\item @param latitude The new latitude value.
		\end{description}
	\item public void setLongitude(double longitude)
		\begin{description}
		\item Sets the longitude value of the location.
	 	\item @param longitude The new longitude value.
		\end{description}
	\item public String getName()
		\begin{description}
		\item Returns the name of the location.
	 	\item @return The name of the location.
		\end{description}
	\item public double getLatitude()
		\begin{description}
		\item Returns the latitude value of the location.
	 	\item @return The latitude value of the location.
		\end{description}
	\item public double getLongitude()
		\begin{description}
		\item Returns the longitude value of the location.
	 	\item @return The longitude value of the location.
		\end{description}
	\end{itemize}

	\subsection{edu.kit.sdqweb.pse.gruppe1.goApp.server.database.management}	
	%TODO: Kurzer Beschreibungstext
	
	%TODO: Hinterher Löschen - Vorlage
	%	\newline Attributes:	
	\begin{itemize}
		\item 
		\begin{description}
			\item 
		\end{description}
	\end{itemize}
	%\newline Methods:
	\begin{itemize}
		\item 
		\begin{description}
			\item 
		\end{description}
	\end{itemize}
	%TODO bis hier
	\subsubsection{DatabaseInitializer}
	Factory for creating Session Factory for DB communication.
	\newline Methods:
	\begin{itemize}
		\item public SessionFactory getFactory()
		\begin{description}
			\item Factory Method
			\item @return SessionFactory Object from Hibernate Library
		\end{description}
	\end{itemize}
	
	\subsubsection{Interface Management}
	Interface to use from all DB Management Classes
	\newline Methods:
	\begin{itemize} 
		\item public boolean delete(int ID)			
		\begin{description}
			\item Delete an entry with ID in DB
			\item @param ID ID from Entry to delete
			\item @return true, if deletion was successfull, otherwise false
		\end{description}
		
		\item void Management(DatabaseInitializer dbInitializer);
		\begin{description}
			\item Constructor which initializes a DB Session
			\item @param dbInitializer DataBaseInitializier Object - Created from Factory
		\end{description}
	\end{itemize}
	\subsubsection{GroupManagement}
	\subsubsection{UserManagement}
	\subsubsection{EventManagement}
	\subsubsection{EventUserManagement}
	\subsubsection{GroupUserManagement}
	\subsubsection{RequestManagement}
  
  
  	\subsection{edu.kit.sdqweb.pse.gruppe1.goApp.server.algorithm}
	
	
	\subsubsection{CusterFacade}
	
	%TODO: Kurzer Beschreibungstext
	Facade Class which communicates with the servlet and the database.
	%TODO: Hinterher Löschen - Vorlage
	\newline Attributes:
	\newline Methods:
	\begin{itemize}
		\item public List<Point> getClusteredCentralPoints(Event event) :
		\begin{description}
			\item This method fetches all locations from the database which belong to the event and calls the cluster algorithm to get it clustered. After that it calls the MidpointAlgo to get the midpoints from the calculated clusters.
			\item @param the event which midpoint should be calculated.
			\item @return central points of the calculated clusters
		\end{description}
	\end{itemize}
	
	

	
	
	\subsubsection{abstract MidPointAlgo}
	
	This is the abstract class with the method to calculate the central of a cluster.

	Methods:
	\begin{itemize}
		\item public Point calculateCentralPoint(CentroidCluster cluster) 
		\begin{description}
			\item This is the abstract method for calculating a clusters central point.
			\item param the cluster which midpoint should be calculated.
			\item return the midpoint.
		\end{description}
	\end{itemize}
	%TODO bis hier
	
	
	
	\subsubsection{SimpleCentral extends MidPointAlgo}
	
	This is the class which calculates the arithmetic midpoint. It extends the class MidPointAlgo and overwrites its methods.	
	
	
	
	
	
	
	\subsubsection{ImportantMidPointCentral extends MidPointAlgo}
	
	This class is for calculating the midpoint of a cluster but not every point is weighted the same especially the midpoint of the cluster is more important than the other points. It overwrites the method calculateCentralPoint from its super class MidPointAlgo. 	
	
	

	\subsection{edu.kit.sdqweb.pse.gruppe1.goApp.server.servlet}	
	\hyperlink{Servlets}{Siehe JSON-RPC}
	\newpage
